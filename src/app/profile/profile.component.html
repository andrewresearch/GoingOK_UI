
<div id="profile-content">
  <div id="devmode-content" *ngIf="DEVELOPER_MODE"  class="row-fluid">
    <div class = "col-sm-12">
      <div class="panel panel-info">
        <div class="panel-heading"><h5 class="panel-title"><span class="glyphicon glyphicon-tasks"></span> Dev Info</h5></div>
        <div id="devPanel" class="panel-body small">

          <div class="alert-info"><p> <button (click)="updateReflections()"> update reflections </button><button (click)="loadDummy()"> dummy reflections </button><button (click)="toggleSignIn()"> signIn </button> <button (click)="toggleAuthorised()"> authorised </button> </p>
          </div>

          <div>
            <table class="table table-responsive table-striped">
              <thead>
              <tr>
                <th>Property</th>
                <th>Value</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>AuthInfo</td>
                <td>{{getAuthInfo()}}</td>
              </tr>
              <tr>
                <td>Current Entry</td>
                <td>{{(getCurrentEntry()|async)}}</td>
              </tr>
              <tr>
                <td>Selected Research</td>
                <td>{{(selectedResearch())}}</td>
              </tr>
              <tr>
                <td>User</td>
                <td>{{(getUser()|async)}}</td>
              </tr>
              <tr>
                <td>Reflections</td>
                <td>{{(getReflections()|async)}}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="text-center"><span class="glyphicon glyphicon-chevron-down"></span></div>
      </div>
    </div>
  </div>

  <div id="reflectchart-content" class="row-fluid">
    <div class = "col-sm-12">
      <reflection-chart [reflections]="(reflections | async)"></reflection-chart>
    </div>
  </div>

  <div id="main-content" class="row-fluid">

    <div id="main-left-column" class="col-sm-8">
      <entry (notify)='onNotify($event)'></entry>
      <reflection-list [reflections]="(reflections | async)"></reflection-list>
    </div>

    <div id="main-right-column" class="col-sm-4">

      <div id="message-content" class="panel panel-info">
        <div class="panel-heading"><h5 class="panel-title"><span class="glyphicon glyphicon-bullhorn"></span> GoingOK Messages</h5></div>
        <div id="goingokMessage" class="panel-body small">
          <p><strong>Welcome</strong></p>
          <p>If you are new to goingok this year, we hope that you find it helpful to reflect on a regular basis.</p>
          <p>Remember that it is better reflect regularly. It doesn't have to be long. Just a couple of sentences on how your day or week has gone. Of course if you want to unload, there is certainly no reason why you can't write a long reflection. To get the most benefit, reflecting regularly is the key.</p>
          <p>Please let us know if anything on this page can be improved in any way: <a href="mailto:support@goingok.com">support@goingok.com</a></p>
        </div>
        <div class="text-center"><span class="glyphicon glyphicon-chevron-down"></span></div>
      </div>

      <div id="research-content" class="panel panel-warning">
        <div class="panel-heading">
          <h3 class="panel-title">GoingOK Research</h3>
        </div>
        <div class="panel-body">
          <p class="small">If you are participating in a GoingOK research project, please ensure the settings below are accurate. Note, if you are not participating, the research code will show as: 000-000-000</p>

          <dl class="dl-horizontal left">
            <dt>Research Code:</dt>
            <dd>{{selectedResearch()}}</dd>
            <dt>Project:</dt>
            <dd><select class="form-control"  [(ngModel)]="selectedProject">
              <option *ngFor="let p of research.projects" [ngValue]="p"> {{p.name}} </option>
            </select></dd>
            <dt>Organisation:</dt>
            <dd>
              <select class="form-control" [(ngModel)]="selectedOrg" [disabled]="(selectedProject.name=='None')">
                <option *ngFor="let o of selectedProject.organisations" [ngValue]="o"> {{o.name}} </option>
              </select>
            </dd>
            <dt>Cohort:</dt>
            <dd>
              <select class="form-control" [(ngModel)]="selectedCohort" [disabled]="(selectedOrg.name=='None')">
                <option *ngFor="let c of selectedOrg.cohorts" [ngValue]="c"> {{c.name}} </option>
              </select>
            </dd>
          </dl>
        </div>
      </div><!-- research -->
    </div><!--right-column-->
  </div><!--main-content-->
  <div class="row-fluid">
    <div class="col-sm12">
      <p (click)="toggleDevMode()">.</p>
      <p *ngIf="DEVELOPER_MODE">Developer Mode Enabled</p>
    </div>
  </div>
</div><!--profile-content-->



